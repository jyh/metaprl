Import qw( env );

$env = $env->clone(
    ENV => {
            PATH => "$ENV{'PATH'}:$env->{MP}/filter/filter",
            MPLIB => "$env->{MP}/lib",
            LC_ALL => "C"
    },
    OCAMLCFLAGS => "",
    OCAMLC => "prlc %PRLCFLAGS",

   # All files compiled with prlc implicitly depend on these files and
   # modules.
   HIDDEPS => "$env->{MP_HASH}/filter/filter/prlc $env->{MP_HASH}/lib/camlp4n $env->{MP_HASH}/lib/registry.txt $env->{MP_HASH}/lib/mbs-mpl.txt",
   HIDMODDEPS => "Printf Mp_debug Refiner Refine_exn Term Term_util Theory Dform Dform_print Tactic Mp_resource Precedence Filter_summary",
);

Export qw( env );

Build qw(
        tactic/Conscript
        ocaml/Conscript
        base/Conscript
        itt/Conscript
        mc/Conscript
        phobos/Conscript
);
