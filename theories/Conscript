Import qw( env );

$env = $env->clone(
        INCPATH => [@{$env->{INCPATH}}, "#mllib", "#lib",
                    "#refiner/refbase", "#refiner/refsig", "#refiner/term_gen",
                    "#refiner/term_ds", "#refiner/term_std", "#refiner/rewrite",
                    "#refiner/refiner", "#refiner/reflib", "#library", "#ensemble",
                    "#filter/boot"],
        ENV => {
                PATH => "$ENV{'PATH'}:./filter/filter",
                MPLIB => "lib",
                LC_ALL => "C"
        },
        OCAMLCFLAGS => "",
        OCAMLC => "prlc -opt",

	# All files compiled with prlc implicitly depend on these files and
	# modules.
	HIDDEPS => "#filter/filter/prlc #lib/camlp4n #lib/registry.txt #lib/mbs-mpl.txt",
	HIDMODDEPS => "Printf Mp_debug Refiner Refine_exn Term Term_util Theory Dform Dform_print Tactic Mp_resource Precedence Filter_summary",
);

Export qw( env );

Build qw(
        tactic/Conscript
        ocaml/Conscript
        base/Conscript
        itt/Conscript
        mc/Conscript
);
