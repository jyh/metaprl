THEORYNAME = itt
THEORYDESCR = Computational Type Theory

OCAMLINCLUDES[] +=
   $(SUPPORT_DIRS)
   ../base

# Library files
MPFILES =\
   itt_comment\
   itt_equal\
   itt_struct\
   itt_squash\
   itt_squiggle\
   itt_subtype\
   itt_void\
   itt_unit\
   itt_atom\
   itt_set\
   itt_union\
   itt_dprod\
   itt_prod\
   itt_rfun\
   itt_dfun\
   itt_eta\
   itt_fun\
   itt_esquash\
   itt_logic\
   itt_nequal\
   itt_well_founded\
   itt_decidable\
   itt_bool\
   itt_list\
   itt_ext_equal\
   itt_pointwise\
   itt_struct2\
   itt_struct3\
   itt_int_base\
   itt_int_ext\
   itt_int_arith\
   itt_omega\
   itt_atom_bool\
   itt_nat\
   itt_isect\
   itt_tsquash\
   itt_disect\
   itt_tunion\
   itt_bisect\
   itt_bunion\
   itt_inv_typing\
   itt_w\
   itt_prec\
   itt_srec\
   itt_quotient\
   itt_list2\
   itt_fun2\
   itt_union2\
   itt_derive\
   itt_prop_decide\
   itt_fset\
   itt_antiquotient\
   itt_singleton\
   itt_subset\
   itt_subset2\
   itt_eq_base\
   itt_theory\
   itt_pointwise2\
   itt_collection\
   ctt_markov\
   itt_record_label0\
   itt_record_label\
   itt_record0\
   itt_record\
   itt_record_exm\
   itt_obj_base_rewrite\
   itt_algebra_df\
   itt_record_renaming\
   itt_relation_str\
   itt_set_str\
   itt_bintree\
   itt_datatree\
   itt_sortedtree\
   itt_rbtree\
   itt_sort\
   itt_grouplikeobj\
   itt_group\
   itt_cyclic_group\
   itt_quotient_group\
   itt_ring2\
   itt_ring_e\
   itt_poly\
   itt_unitring\
   itt_ring_uce\
   itt_intdomain\
   itt_intdomain_e\
   itt_field2\
   itt_field_e\
   itt_order\
   itt_rat\
   itt_rat2\
   itt_supinf\
   itt_synt_var\
   itt_synt_operator\
   itt_synt_bterm\
   itt_reflection\
   itt_reflection_test\
   itt_pairwise\
   itt_pairwise2\
   itt_power\
   itt_sqsimple\
   itt_functions\
   itt_closure\
   itt_reflection_example_lambda\
   itt_example

OCamlProgram(gen_int_bench, gen_int_bench)
gen_int_bench.o gen_int_bench.cmx gen_int_bench.cmo gen_int_bench.cmi:

GEN = gen_int_bench$(EXE)

BENCH_FILES[] =
   itt_int_bench
   itt_int_bench2

$(addsuffix .ml, $(BENCH_FILES)): $(GEN)
   ./$(GEN)

$(addsuffix .mli, $(BENCH_FILES)):
   touch $(addsuffix .mli, $(BENCH_FILES))

OCamlGeneratedFiles($(addsuffix .mli, $(BENCH_FILES)) $(addsuffix .ml, $(BENCH_FILES)))

clean:
    $(CLEAN) $(GEN) $(addsuffix .ml, $(BENCH_FILES)) $(addsuffix .mli, $(BENCH_FILES))

TEST_FILES =\
   itt_bugs\
   jprover_tests\
   itt_int_test\
   itt_int_bench\
   itt_int_bench2\
   itt_test

MPFILES = $(if $(TESTS_ENABLED), $(MPFILES) $(TEST_FILES), $(MPFILES))

Theory($(MPFILES))

#
# Documentation
#
PRINT_THEORIES =\
    itt_theory\
    itt_equal\
    itt_struct\
    itt_squash\
    itt_squiggle\
    itt_subtype\
    itt_void\
    itt_unit\
    itt_atom\
    itt_set\
    itt_union\
    itt_rfun\
    itt_dfun\
    itt_fun\
    itt_dprod\
    itt_prod\
    itt_logic\
    itt_decidable\
    itt_bool\
    itt_int_base\
    itt_int_ext\
    itt_int_arith\
    itt_isect\
    itt_disect\
    itt_bisect\
    itt_tunion\
    itt_bunion\
    itt_w\
    itt_prec\
    itt_srec\
    itt_list\
    itt_list2\
    itt_esquash\
    itt_quotient\
    itt_struct2\
    itt_fun2\
    itt_well_founded\
    itt_singleton\
    itt_subset\
    itt_subset2\
    itt_antiquotient\
    itt_eq_base\
    itt_record\
    itt_record_exm\
    itt_record_renaming\
    itt_relation_str\
    itt_set_str\
    itt_bintree\
    itt_datatree\
    itt_sortedtree\
    itt_rbtree\
    itt_grouplikeobj\
    itt_group\
    itt_cyclic_group\
    itt_quotient_group\
    itt_ring2\
    itt_ring_e\
    itt_poly\
    itt_unitring\
    itt_ring_uce\
    itt_intdomain\
    itt_intdomain_e\
    itt_field2\
    itt_field_e\
    itt_order\
    itt_rat\
    itt_collection\
    itt_pointwise\
    itt_pointwise2

TheoryDocumentInstall(itt, $(PRINT_THEORIES))

#
# Clean up
#
clean:
    $(CLEAN) theory.tex theory-body.tex theory_print.ml

all: theory$(LIB_SUFFIX)
