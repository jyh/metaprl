#
# Go ahead and assume that we have MC.  There's no
# other way this Conscript should be called.
#
Import qw( env );

#
# Clone the environment and modify as needed.
#
$env = $env->clone(
   INCPATH  => [@{$env->{INCPATH}}, "#theories/mc"],
      OCAMLLINK => "$env->{OCAMLLINK} -I /usr/lib/camlp4",
      OCAMLCFLAGS => "-thread",
      MLLIBS    => "unix.cmxa threads.cmxa odyl.cmxa camlp4.cmxa pa_o.cmx",
      CCLIBS    => "-cclib clib/clib.a -cclib $env->{MC}/lib/cutil/libcutil.a"
   );

#
# Declare source(s) and the program.
#
OCamlSources $env
   'mp_mc_test_connect_base.ml',
   'mp_mc_test_connect_ty.ml',
   'mp_mc_test_connect_exp.ml',
   'mp_mc_test_connect.ml';

OCamlProgram $env 'test_connect.exec',
   'mp_mc_test_connect';

#
# What to build.
#
#Default qw( test_connect.exec );
